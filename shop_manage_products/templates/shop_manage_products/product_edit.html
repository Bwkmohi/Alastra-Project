{% extends 'shop_manage_products/base.html' %}
{% block shop_prod_con %} 
<title>
    ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„
</title>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;200;300;400;500;600;700;800;900&display=swap');
    
    .form-section {
        transition: all 0.3s ease;
    }
    
    .form-section:hover {
        transform: translateY(-2px);
    }
    
    .fade-in {
        animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .tab-content {
        display: none;
    }
    
    .tab-content.active {
        display: block;
        animation: fadeIn 0.5s ease-in;
    }
    
    .ring-animation {
        animation: ringPulse 2s infinite;
    }
    
    @keyframes ringPulse {
        0% { box-shadow: 0 0 0 0 rgba(11, 255, 255, 0.4); }
        70% { box-shadow: 0 0 0 10px rgba(11, 255, 255, 0); }
        100% { box-shadow: 0 0 0 0 rgba(11, 255, 255, 0); }
    }
</style>

<div class="grid md:grid-cols-4 grid-cols-2 gap-4 md:p-5">
 
  <a href="{% url 'pro:products_list' shop_id %}" class="relative group bg-gradient-to-br from-[#062441] via-[#0b1421] to-[#0d4370] rounded-2xl shadow-2xl hover:scale-105 transition-all duration-300 p-6 flex flex-col items-center justify-center text-center">
    <i class="bi bi-box-seam text-5xl text-[#b0ffd1] mb-3 transition-all duration-300 group-hover:text-[#ffffff]"></i>
    <p class="font-bold text-lg text-white group-hover:text-[#b0ffd1]">Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</p>
    <span class="absolute top-3 right-3 bg-[#0bffff44] text-[#0b1421] px-2 py-1 rounded-full text-xs font-bold">{{ count_shop_products }}</span>
    <button class="mt-4 bg-[#0bffffcc] text-[#0b1421] font-bold px-4 py-2 rounded hover:bg-[#0bffffee] transition">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>
  </a>

  <a href="{% url 'pro:product_Add' shop_id %}" class="relative group bg-gradient-to-br from-[#062441] via-[#0b1421] to-[#0d4370] rounded-2xl shadow-2xl hover:scale-105 transition-all duration-300 p-6 flex flex-col items-center justify-center text-center">
    <i class="bi bi-plus-circle text-5xl text-[#b0ffd1] mb-3 transition-all duration-300 group-hover:text-[#ffffff]"></i>
    <p class="font-bold text-lg text-white group-hover:text-[#b0ffd1]">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„</p>
    <button class="mt-4 bg-[#0bffffcc] text-[#0b1421] font-bold px-4 py-2 rounded hover:bg-[#0bffffee] transition">Ø§ÙØ²ÙˆØ¯Ù†</button>
  </a>

  <a href="{% url 'pro:products_data' shop_id %}" class="relative group bg-gradient-to-br from-[#062441] via-[#0b1421] to-[#0d4370] rounded-2xl shadow-2xl hover:scale-105 transition-all duration-300 p-6 flex flex-col items-center justify-center text-center">
    <i class="bi bi-reception-4 text-5xl text-[#b0ffd1] mb-3 transition-all duration-300 group-hover:text-[#ffffff]"></i>
    <p class="font-bold text-lg text-white group-hover:text-[#b0ffd1]">Ø§Ù…Ø§Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª</p>
    <button class="mt-4 bg-[#0bffffcc] text-[#0b1421] font-bold px-4 py-2 rounded hover:bg-[#0bffffee] transition">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>
  </a>


  <form action="{% url 'pro:filter_product' shop_id %}" method="GET">
    <input type="text" hidden class="hidden" name="inventory" value="2" id="">
    <a href="#" class="relative group bg-gradient-to-br from-[#062441] via-[#0b1421] to-[#0d4370] rounded-2xl shadow-2xl hover:scale-105 transition-all duration-300 p-6 flex flex-col items-center justify-center text-center">
      <i class="bi bi-exclamation-triangle text-5xl text-[#b0ffd1] mb-3 transition-all duration-300 group-hover:text-[#ffffff]"></i>
      <p class="font-bold text-lg text-white group-hover:text-[#b0ffd1]">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ù… <span style="font-size: 15px; color: rgb(119, 119, 119);">ØªØ± Ø§Ø² 2</span></p>
      <span class="absolute top-3 right-3 bg-[#0bffff44] text-[#0b1421] px-2 py-1 rounded-full text-xs font-bold">{{ count_shop_lte2_products }}</span>
      <button type="submit" class="mt-4 bg-[#0bffffcc] text-[#0b1421] font-bold px-4 py-2 rounded hover:bg-[#0bffffee] transition">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button>
    </a>    
  </form>
</div>
 
<div class="bg-gradient-to-br from-[#0b1421] via-[#0b1421] to-[#041b2d] min-h-screen p-4">
    
    <form method="POST" enctype="multipart/form-data" class="max-w-7xl mx-auto">
        {% csrf_token %}
         
        <div class="text-center mb-8 relative fade-in">
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-[#0bffff22] to-transparent blur-xl"></div>
            <h1 class="text-4xl font-black bg-gradient-to-r from-[#0bffff] via-[#0bffffee] to-[#0bffffcc] bg-clip-text text-transparent relative drop-shadow-[0_0_30px_rgba(11,255,255,0.6)]">
                ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„
            </h1>
            <p class="text-[#0bffffaa] text-lg mt-4 font-medium">Ù…Ø­ØµÙˆÙ„ "{{ product.name }}" Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯</p>
        </div>

        <!-- ØªØ¨â€ŒÙ‡Ø§ÛŒ ÙØ±Ù… -->
        <div class="flex flex-wrap gap-2 mb-6 fade-in">
            <button type="button" class="tab-btn px-6 py-3 bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] border border-[#0bffff44] text-[#0bffff] font-bold rounded-xl transition-all duration-300 hover:border-[#0bffff] hover:shadow-[0_0_15px_rgba(11,255,255,0.3)] active-tab" data-tab="basic">
                Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡
            </button>
            <button type="button" class="tab-btn px-6 py-3 bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] border border-[#0bffff44] text-[#0bffff] font-bold rounded-xl transition-all duration-300 hover:border-[#0bffff] hover:shadow-[0_0_15px_rgba(11,255,255,0.3)]" data-tab="price">
                Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ
            </button>
            <button type="button" class="tab-btn px-6 py-3 bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] border border-[#0bffff44] text-[#0bffff] font-bold rounded-xl transition-all duration-300 hover:border-[#0bffff] hover:shadow-[0_0_15px_rgba(11,255,255,0.3)]" data-tab="media">
                Ø±Ø³Ø§Ù†Ù‡ Ùˆ ØªØµØ§ÙˆÛŒØ±
            </button>
            <button type="button" class="tab-btn px-6 py-3 bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] border border-[#0bffff44] text-[#0bffff] font-bold rounded-xl transition-all duration-300 hover:border-[#0bffff] hover:shadow-[0_0_15px_rgba(11,255,255,0.3)]" data-tab="details">
                Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ
            </button>
            <button type="button" class="tab-btn px-6 py-3 bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] border border-[#0bffff44] text-[#0bffff] font-bold rounded-xl transition-all duration-300 hover:border-[#0bffff] hover:shadow-[0_0_15px_rgba(11,255,255,0.3)]" data-tab="seo">
                Ø³Ø¦Ùˆ  
            </button>
        </div>

        <!-- Ù…Ø­ØªÙˆØ§ÛŒ ØªØ¨â€ŒÙ‡Ø§ -->
        <div class="space-y-6">
            <!-- ØªØ¨ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡ -->
            <div id="basic" class="tab-content active">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ“</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ Ù…Ø­ØµÙˆÙ„</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ *</label>
                                <input type="text" name="name" required maxlength="20" value="{{ product.name }}"
                                       class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                       placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„...">
                            </div>
                            
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„ *</label>
                                <textarea name="description" rows="4" required
                                          class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium resize-none focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                          placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„...">{{ product.description }}</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ“‚</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§ØµÙ„ÛŒ</label>
                                <select name="category" 
                                        class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none appearance-none">
                                    <option value="" class="bg-[#0b1421]" {% if not product.category %}selected{% endif %} disabled>Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§ØµÙ„ÛŒ</option>
                                    {% for i in super_categories %}
                                        <option value="{{ i.id }}" class="bg-[#0b1421]" {% if product.category.id == i.id %}selected{% endif %}>{{ i.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ±Ø¹ÛŒ</label>
                                <select name="main_category" multiple
                                        class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none appearance-none h-32">
                                    {% for i in main_categories %}
                                        <option value="{{ i.id }}" {% if i in product.main_category.all %}selected{% endif %}>{{ i.name }}</option>
                                    {% endfor %}
                                </select>
                                <p class="text-[#0bffff66] text-xs mt-2">Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú†Ù†Ø¯Ú¯Ø§Ù†Ù‡ØŒ Ú©Ù„ÛŒØ¯ Ctrl Ø±Ø§ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯</p>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ø±Ù†Ú¯</label>
                                    <select name="color" 
                                            class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none appearance-none">
                                        <option value="" class="bg-[#062441]" {% if not product.color %}selected{% endif %}>Ø¨Ø¯ÙˆÙ† Ø±Ù†Ú¯</option>
                                        {% for i in colors %}
                                            <option value="{{ i.id }}" class="bg-[#062441]" {% if product.color.id == i.id %}selected{% endif %}>{{ i.name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ø¨Ø±Ù†Ø¯</label>
                                    <select name="brand" 
                                            class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none appearance-none">
                                        <option value="" class="bg-[#062441]" {% if not product.brand %}selected{% endif %}>Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ù†Ø¯</option>
                                        {% for i in brands %}
                                            <option value="{{ i.id }}" class="bg-[#062441]" {% if product.brand.id == i.id %}selected{% endif %}>{{ i.name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ØªØ¨ Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ -->
            <div id="price" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ’°</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ù‚ÛŒÙ…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ù‚ÛŒÙ…Øª Ø§ØµÙ„ÛŒ (ØªÙˆÙ…Ø§Ù†) *</label>
                                <input type="number" name="price" required value="{{ product.price }}"
                                       class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                       placeholder="Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„...">
                            </div>
                            
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´ ÙˆÛŒÚ˜Ù‡ (ØªÙˆÙ…Ø§Ù†)</label>
                                <input type="number" name="sell_price" value="{{ product.sell_price|default_if_none:'' }}"
                                       class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                       placeholder="Ù‚ÛŒÙ…Øª ÙˆÛŒÚ˜Ù‡...">
                            </div>
                            
                            <div class="flex items-center gap-3 p-3 bg-[#0b142144] rounded-xl border border-[#0bffff33]">
                                <input type="checkbox" name="is_sellprice" id="is_sellprice" {% if product.is_sellprice %}checked{% endif %}
                                       class="w-5 h-5 text-[#0bffff] bg-[#0b1421] border-[#0bffff44] rounded focus:ring-[#0bffff] focus:ring-2">
                                <label for="is_sellprice" class="text-[#0bffffdd] font-medium">ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡</label>
                            </div>
                        </div>
                    </div>

                    <!-- Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ ÙˆØ¶Ø¹ÛŒØª -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ“¦</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ùˆ ÙˆØ¶Ø¹ÛŒØª</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">ØªØ¹Ø¯Ø§Ø¯ Ù…ÙˆØ¬ÙˆØ¯ÛŒ *</label>
                                <input type="number" name="qunat" required value="{{ product.qunat|default_if_none:'0' }}"
                                       class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                       placeholder="ØªØ¹Ø¯Ø§Ø¯ Ù…ÙˆØ¬ÙˆØ¯...">
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div class="flex items-center gap-3 p-3 bg-[#0b142144] rounded-xl border border-[#0bffff33]">
                                    <input type="checkbox" name="have" id="have" {% if product.have %}checked{% endif %}
                                           class="w-5 h-5 text-[#0bffff] bg-[#0b1421] border-[#0bffff44] rounded focus:ring-[#0bffff] focus:ring-2">
                                    <label for="have" class="text-[#0bffffdd] font-medium text-sm">Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±</label>
                                </div>
                                
                                <div class="flex items-center gap-3 p-3 bg-[#0b142144] rounded-xl border border-[#0bffff33]">
                                    <input type="checkbox" name="active" id="active" {% if product.active %}checked{% endif %}
                                           class="w-5 h-5 text-[#0bffff] bg-[#0b1421] border-[#0bffff44] rounded focus:ring-[#0bffff] focus:ring-2">
                                    <label for="active" class="text-[#0bffffdd] font-medium text-sm">ÙØ¹Ø§Ù„</label>
                                </div>
                            </div>
                            
                            <div class="flex items-center gap-3 p-3 bg-[#0b142144] rounded-xl border border-[#0bffff33]">
                                <input type="checkbox" name="spessial" id="spessial" {% if product.spessial %}checked{% endif %}
                                       class="w-5 h-5 text-[#0bffff] bg-[#0b1421] border-[#0bffff44] rounded focus:ring-[#0bffff] focus:ring-2">
                                <label for="spessial" class="text-[#0bffffdd] font-medium">Ù…Ø­ØµÙˆÙ„ ÙˆÛŒÚ˜Ù‡</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ØªØ¨ Ø±Ø³Ø§Ù†Ù‡ Ùˆ ØªØµØ§ÙˆÛŒØ± -->
            <div id="media" class="tab-content">
                <div class="grid grid-cols-1 gap-6">
                    <!-- ØªØµÙˆÛŒØ± Ø§ØµÙ„ÛŒ -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ–¼</span>
                            </div>
                            <h3 class="text-xl font-black text-white">ØªØµÙˆÛŒØ± Ø§ØµÙ„ÛŒ Ù…Ø­ØµÙˆÙ„</h3>
                        </div>
                        
                        <div class="border-2 border-dashed border-[#0bffff44] rounded-xl p-6 text-center hover:border-[#0bffff] transition-colors cursor-pointer">
                            <input type="file" name="image" accept="image/*" value="{{ product.image.url }}" class="hidden" id="main-image">
                            <label for="main-image" class="cursor-pointer block">
                                {% if product.image %}
                                <div class="mb-3">
                                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="w-32 h-32 object-cover rounded-lg mx-auto border-2 border-[#0bffff33]">
                                </div>
                                <span class="text-[#0bffff] font-medium text-lg">ØªØµÙˆÛŒØ± ÙØ¹Ù„ÛŒ</span>
                                <span class="text-[#0bffffaa] text-sm block mt-2">Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± ØªØµÙˆÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</span>
                                {% else %}
                                <div class="text-[#0bffffaa] mb-3">
                                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </div>
                                <span class="text-[#0bffff] font-medium text-lg">Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± Ø§ØµÙ„ÛŒ</span>
                                <span class="text-[#0bffffaa] text-sm block mt-2">Ø§Ø¨Ø¹Ø§Ø¯ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ: 575x575 Ù¾ÛŒÚ©Ø³Ù„</span>
                                {% endif %}
                                <span class="text-[#0bffff66] text-xs block mt-1">PNG, JPG, GIF - Ø­Ø¯Ø§Ú©Ø«Ø± 5MB</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ØªØ¨ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ -->
            <div id="details" class="tab-content">
                <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">âš™ï¸</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ Ù…Ø­ØµÙˆÙ„</h3>
                        </div>
                        <span id="specs-counter" class="bg-gradient-to-r from-[#0bffff33] to-[#0bffff11] text-[#0bffff] px-4 py-2 rounded-full font-bold text-sm border border-[#0bffff33]">
                            Û° Ù…Ø´Ø®ØµÙ‡
                        </span>
                    </div>

                    <div id="specs-container" class="space-y-4">
                        {% for i in product_key_value %}
                        <section class="bg-gradient-to-br from-[#0b142188] to-[#06244188] rounded-xl p-4 border border-[#0bffff33]">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-6 h-6 bg-gradient-to-br from-[#0bffff33] to-[#0bffff11] rounded-lg flex items-center justify-center">
                                        <span class="text-[#062441] font-bold text-xs"><i class="{{ i.icon }} text-[#0bffffcc] font-bold"></i></span>
                                    </div>
                                    <h4 class="text-white font-bold">Ù…Ø´Ø®ØµÙ‡ 33</h4>
                                </div>
                                <button type="button" class="remove-spec-btn w-6 h-6 bg-[#0b1421aa] hover:bg-[#ff555533] text-[#0bffffaa] hover:text-[#ff5555] rounded flex items-center justify-center border border-[#0bffff33] hover:border-[#ff5555] transition-all duration-300 text-xs">
                                    âœ•
                                </button>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-[#0bffffdd] text-xs font-medium mb-2">Ú©Ù„ÛŒØ¯ Ù…Ø´Ø®ØµÙ‡</label>
                                    <input type="text" value="{{ i.key.key }}" required readonly
                                        class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-lg px-3 py-2 text-white placeholder-[#0bffff66] text-sm focus:border-[#0bffff] outline-none transition-all"
                                        placeholder="Ù…Ø«Ù„Ø§Ù‹: ÙˆØ²Ù†ØŒ Ø§Ø¨Ø¹Ø§Ø¯ØŒ Ø±Ù†Ú¯...">
                                        <input type="text" name="spec_keys[]" hidden class="hidden" value="{{ i.key.id }}" id="">
                                </div>
                                
                                <div>
                                    <label class="block text-[#0bffffdd] text-xs font-medium mb-2">Ù…Ù‚Ø¯Ø§Ø± Ù…Ø´Ø®ØµÙ‡</label>
                                    <input type="text" name="spec_values[]" value="{{ i.value }}" required
                                        class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-lg px-3 py-2 text-white placeholder-[#0bffff66] text-sm focus:border-[#0bffff] outline-none transition-all"
                                        placeholder="Ù…Ø«Ù„Ø§Ù‹: 500 Ú¯Ø±Ù…ØŒ 20x30 Ø³Ø§Ù†ØªÛŒâ€ŒÙ…ØªØ±...">
                                </div>
                            </div>
                        </section>
                        {% endfor %}
                    </div> 
                </div>
            </div>

            <!-- ØªØ¨ Ø³Ø¦Ùˆ Ùˆ Ø§Ù†ØªØ´Ø§Ø± -->
            <div id="seo" class="tab-content">
                <div class="grid grid-cols-1 gap-6">
                    <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³Ø¦Ùˆ -->
                    <div class="bg-gradient-to-bl from-[#06244188] to-[#0b142188] rounded-2xl p-6 border border-[#0bffff33] shadow-lg backdrop-blur-sm form-section">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-8 h-8 bg-gradient-to-br from-[#0bffff] to-[#0bffffee] rounded-lg flex items-center justify-center">
                                <span class="text-[#062441] font-bold">ğŸ”</span>
                            </div>
                            <h3 class="text-xl font-black text-white">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØªÙˆØ± Ø¬Ø³ØªØ¬Ùˆ</h3>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">ØªÙˆØ¶ÛŒØ­Ø§Øª Ø³Ø¦Ùˆ</label>
                                <textarea name="description_seo" rows="3" maxlength="80"
                                          class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium resize-none focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                          placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…ØªØ§ Ø¨Ø±Ø§ÛŒ Ø³Ø¦Ùˆ (Ø­Ø¯Ø§Ú©Ø«Ø± Û¸Û° Ú©Ø§Ø±Ø§Ú©ØªØ±)...">{{ product.description_seo|default_if_none:'' }}</textarea>
                                <div class="text-[#0bffff66] text-xs mt-2 text-left">{{ product.description_seo|length|default:0 }}/Û¸Û° Ú©Ø§Ø±Ø§Ú©ØªØ±</div>
                            </div>
                            
                            <div>
                                <label class="block text-[#0bffffdd] text-sm font-medium mb-2">Ø§Ø³Ù„Ø§Ú¯ (Slug)</label>
                                <input type="text" name="slug" value="{{ product.slug }}" required
                                       class="w-full bg-[#0b1421aa] border border-[#0bffff44] rounded-xl px-4 py-3 text-white placeholder-[#0bffff66] font-medium focus:border-[#0bffff] focus:shadow-[0_0_15px_rgba(11,255,255,0.3)] outline-none transition-all"
                                       placeholder="slug-product...">
                                <p class="text-[#0bffff66] text-xs mt-2">Ø¢Ø¯Ø±Ø³ ÛŒÚ©ØªØ§ Ø¨Ø±Ø§ÛŒ Ù…Ø­ØµÙˆÙ„ - Ø¯Ø± ØµÙˆØ±Øª Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù†ØŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ -->
        <div class="flex gap-4 mt-8 fade-in">
            <a href="{% url 'pro:products_list' product.shop.id %}" class="w-1/3 text-center py-3 bg-gradient-to-r from-[#ff6b6b33] to-[#ff6b6b11] border border-[#ff6b6b44] text-[#ff6b6b] font-bold rounded-2xl transition-all duration-300 hover:border-[#ff6b6b] hover:shadow-[0_0_20px_rgba(255,107,107,0.3)]">
                Ø§Ù†ØµØ±Ø§Ù
            </a>
            <button type="submit" class="w-2/3 py-3 bg-gradient-to-r from-[#0bffff] via-[#0bffffee] to-[#0bffff] text-[#062441] font-black text-lg rounded-2xl shadow-2xl shadow-[#0bffff66] transition-all duration-500 hover:shadow-[0_0_40px_rgba(11,255,255,0.8)] hover:scale-[1.02]">
                Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„
            </button>
        </div>
    </form>
</div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ù…Ø¯ÛŒØ±ÛŒØª ØªØ¨â€ŒÙ‡Ø§
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Ø­Ø°Ù Ú©Ù„Ø§Ø³ active Ø§Ø² Ù‡Ù…Ù‡ ØªØ¨â€ŒÙ‡Ø§
                    tabBtns.forEach(b => b.classList.remove('active-tab'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Ø§ÙØ²ÙˆØ¯Ù† Ú©Ù„Ø§Ø³ active Ø¨Ù‡ ØªØ¨ Ø¬Ø§Ø±ÛŒ
                    this.classList.add('active-tab');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
            
 
            
      
 
 
            // Ù…Ø¯ÛŒØ±ÛŒØª Ú¯Ø§Ù„Ø±ÛŒ ØªØµØ§ÙˆÛŒØ±
            const galleryContainer = document.getElementById('gallery-container');
            const addGalleryBtn = document.getElementById('add-gallery-image');
            
            function createGalleryItem() {
                const item = document.createElement('div');
                item.className = 'flex items-center gap-4 p-3 bg-[#0b142144] rounded-lg border border-[#0bffff33]';
                
                item.innerHTML = `
                    <div class="flex-1">
                        <input type="file" name="gallery_images[]" accept="image/*" class="hidden gallery-file">
                        <label class="gallery-file-label cursor-pointer block">
                            <div class="border-2 border-dashed border-[#0bffff44] rounded-lg p-3 text-center hover:border-[#0bffff] transition-colors">
                                <span class="text-[#0bffff] text-sm">Ø§Ù†ØªØ®Ø§Ø¨ ØªØµÙˆÛŒØ± Ú¯Ø§Ù„Ø±ÛŒ</span>
                                <span class="text-[#0bffff66] text-xs block mt-1">Ø§Ø¨Ø¹Ø§Ø¯: 575x575 Ù¾ÛŒÚ©Ø³Ù„</span>
                            </div>
                        </label>
                    </div>
                    <button type="button" class="remove-gallery-btn w-8 h-8 bg-[#0b1421aa] hover:bg-[#ff555533] text-[#0bffffaa] hover:text-[#ff5555] rounded flex items-center justify-center border border-[#0bffff33] hover:border-[#ff5555] transition-all duration-300">
                        âœ•
                    </button>
                `;
                
                // Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„
                const fileInput = item.querySelector('.gallery-file');
                const fileLabel = item.querySelector('.gallery-file-label');
                
                fileLabel.addEventListener('click', function() {
                    fileInput.click();
                });
                
                fileInput.addEventListener('change', function(e) {
                    if (e.target.files.length > 0) {
                        fileLabel.innerHTML = `
                            <div class="text-[#0bffff] text-sm">${e.target.files[0].name}</div>
                            <span class="text-[#0bffff66] text-xs block mt-1">Ø¢Ù¾Ù„ÙˆØ¯ Ù…ÙˆÙÙ‚</span>
                        `;
                    }
                });
                
                // Ø­Ø°Ù Ø¢ÛŒØªÙ… Ú¯Ø§Ù„Ø±ÛŒ
                item.querySelector('.remove-gallery-btn').addEventListener('click', function() {
                    item.style.opacity = '0';
                    item.style.transform = 'translateX(20px)';
                    setTimeout(() => {
                        item.remove();
                    }, 300);
                });
                
                return item;
            }
            
            // Ø§ÙØ²ÙˆØ¯Ù† Ø¢ÛŒØªÙ… Ú¯Ø§Ù„Ø±ÛŒ
            addGalleryBtn.addEventListener('click', function() {
                const newItem = createGalleryItem();
                galleryContainer.appendChild(newItem);
            });
            
            // Ø§ÙØ²ÙˆØ¯Ù† ÛŒÚ© Ù…Ø´Ø®ØµÙ‡ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´ÙØ±Ø¶
            setTimeout(() => addSpecBtn.click(), 100);
            updateSpecsCounter();
            
            // Ø§ÙØ²ÙˆØ¯Ù† ÛŒÚ© Ø¢ÛŒØªÙ… Ú¯Ø§Ù„Ø±ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´ÙØ±Ø¶
            setTimeout(() => addGalleryBtn.click(), 200);
        });
    </script>

{% endblock %}